@page "/admin"
@using Microsoft.AspNetCore.Authorization
@attribute [Authorize(Roles = "Admin")]

@inject AuthenticationStateProvider AuthenticationStateProvider

<PageTitle>Panel de Administración</PageTitle>

<div class="container my-4">
    <div class="card shadow-lg p-5">
        <h1 class="text-center text-primary mb-4">Panel de Administración</h1>

        @if (authState?.User.Identity?.IsAuthenticated == true)
        {
            <p class="lead text-center">Bienvenido, **@authState.User.Identity.Name**.</p>
        }
        else
        {
            <p class="lead text-center">Cargando información del usuario...</p>
        }

        <hr />

        <div class="row mt-4">
            <div class="col-md-6 mb-3">
                <a href="/admin/ventas" class="btn btn-primary btn-lg w-100">
                    <i class="bi bi-bar-chart-fill me-2"></i> Gestionar Ventas
                </a>
            </div>
            <div class="col-md-6 mb-3">
                <a href="/admin/sugerencias" class="btn btn-secondary btn-lg w-100">
                    <i class="bi bi-chat-left-text-fill me-2"></i> Ver Sugerencias
                </a>
            </div>
        </div>
    </div>
</div>

@code {
    private AuthenticationState? authState;

    protected override async Task OnInitializedAsync()
    {
        authState = await AuthenticationStateProvider.GetAuthenticationStateAsync();
    }
}